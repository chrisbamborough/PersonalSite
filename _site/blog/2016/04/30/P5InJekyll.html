<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
  <!--CODE FOR TYPEKIT -->
  <script src="https://use.typekit.net/nrf6yfy.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
  <script src="/js/three.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/p5.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/addons/p5.dom.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/addons/p5.sound.js" type="text/javascript"></script>

  <script type="text/javascript" src="https://cdn.jsdelivr.net/quicksettings/latest/quicksettings.min.js"></script>



  <title>Chris Bamborough</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!--[if lte IE 8]><script src="js/ie/html5shiv.js"></script><![endif]-->

	<link rel="stylesheet" href="/css/main.css" />
	<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
</head>

	<body>
    <!-- Animation Canvas -->
    <div id="backgroundCanvas">
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
<header id="header">
  <!--
	<h1><a href="http://www.chrisbamborough.com">Chris Bamborough</a></h1>
-->
	<nav class="links">
	</nav>


	<nav class="main">
    <ul>
                <!--
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>
              -->
		  <li class="menu">
		  	<a class="fa-bars" href="#menu">Menu</a>
			</li>
		</ul>
	</nav>
</header>

<!-- Drop Down Menu -->
<section id="menu">
  <!-- Search -->
  <!--
  <section>
	  <form class="search" method="get" action="#">
	    <input type="text" name="query" placeholder="Search" />
		</form>
	</section>
  -->
	<!-- Links -->
	<section>
	  <ul class="links">
      <li>
		    <!-- <a href="/about"><h1>About</h1></a> -->
				<a href="/"><h1>c.bam.bor.ough</h1></a>
				<!-- <a href="/projects"><h1>Projects</h1></a> -->
				<a href="/mc/"><h1>Making Culture</h1></a>
				<a href="/bhts/"><h1>Byera Hadley</h1></a>
    </ul>
	</section>
	<!-- Actions -->
  <!--
  <section>
	  <ul class="actions vertical">
	    <li><a href="#" class="button big fit">Log In</a></li>
    </ul>
  </section>
  -->
</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
            <article class="post">
              <header>
                <div class="title">
                  <h2><a href="/blog/2016/04/30/P5InJekyll.html">Using P5.js with Jekyll</a></h2>
                <!-- <p>Lorem ipsum dolor amet nullam consequat etiam feugiat</p> -->
                </div>

                <div class="meta">
                  <time class="published" datetime="2016-04-30">April, 2016</time>
                  
                    <a href="#">blog</a>
                  
                  <!--
                  <a href="#" class="author"><span class="name">Jane Doe</span><img src="images/avatar.jpg" alt="" /></a>
                -->
                </div>
              </header>
              
              <div id="postCanvas" style="position: relative; border: 1px solid black; height: 450px;"></div>
<script src="/js/p5Sketches/firstP5Sketch.js" type="text/javascript"></script>

<p>Press any button to clear the canvas.</p>

<p>I have been playing around with <a href="https://processing.org">processing</a> for a few years now but never really got stuck in because of the difficulty to share on the web (without annoying aplets). <a href="https://www.processingjs.org">Processing.js</a> offered a way to use processing in the browser, but involved an extra layer of translation from java (processing) into javascript. Enter <a href="https://www.p5js.org">p5.js</a>, the intuition of processing but using native java script in the browser.</p>

<p>The P5 series of javascript <a href="https://p5js.org/libraries/">libraries</a> provide means to play with the DOM (Document Object Model), Sound, Interaction, Data streams, Image, Video to name just a few.</p>

<p>So I have been playing with the P5.js IDE which has a built in web-server, but I wanted to start publishing my experiments to this site. As it is a jekyll site and posts are written in markdown I had to find a work around.</p>

<p>The first thing to do was include the p5.js libraries into the head of the Jekyll site. In header.html;</p>

<div class="highlighter-rouge"><pre class="highlight"><code>      <span class="nt">&lt;html&gt;</span>
      <span class="nt">&lt;head&gt;</span>
          <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/js/p5.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
      <span class="nt">&lt;/head&gt;</span>
</code></pre>
</div>

<p>Previously in my failed ambition to replicate the Nature Of Code book using straight java script, I was pointing my javascript to an HTML canvas element in the markdown post. As P5 deals with creating a canvas itself, I simply used a div with an id myCanvas to provide a placeholder for a canvas created in javascript.</p>

<p>Jekyll works by writing posts in markdown, which then get compiled into HTML with css styling. The great thing about markdown is that you can throw in html and javascript in amongst and it will render it to the page. As mentioned above I first needed a div for my canvas, then a link to my .js sketch file.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"myCanvas"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/js/p5Sketches/firstP5Sketch.js"</span> <span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
</div>

<p>In the .js sketch file p5 allows you to structure your code along the logic of a processing sketch with a setup() (runs once) and draw() (loops continuously). The only difference is that preceding “void” is replaced by “function”. In the setup a new canvas is placed using a variable used to then call p5 methods and access their elements from the <a href="http://p5js.org/reference/#/p5.Element">library</a>. See the <a href="https://github.com/processing/p5.js/wiki/Beyond-the-canvas">github repository</a> for more details.</p>

<p>The above example sketch is the one included in the <a href="https://p5js.org/get-started/">getting started</a> section of the website, so I need to get a bit more creative, but its a good simple sketch to try and integrate. The only difference is that in the setup I needed to assign a variable to createCanvas() to point it towards my located div. Alternatively I could have set up the canvas and position it within the javascript, but I prefer to use CSS to take care all of that.</p>

<p>There is a slight quirk with my approach that means the p5 sketch extends slightly further in width that the div wrapper. I attempted to use the div client width as the width of the canvas but the two do not quite correlate. If you have any advice on this please tweet me on @chrisbamborough</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="kd">function</span> <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">canvasDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myCanvas"</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">divWidth</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myCanvas"</span><span class="p">).</span><span class="nx">clientWidth</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">sketchCanvas</span> <span class="o">=</span> <span class="nx">createCanvas</span><span class="p">(</span><span class="nx">divWidth</span><span class="p">,</span><span class="mi">450</span><span class="p">);</span>
  <span class="nx">sketchCanvas</span><span class="p">.</span><span class="nx">parent</span><span class="p">(</span><span class="s2">"myCanvas"</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">mouseIsPressed</span><span class="p">){</span>
    <span class="nx">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">fill</span><span class="p">(</span><span class="mi">255</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">ellipse</span><span class="p">(</span><span class="nx">mouseX</span><span class="p">,</span> <span class="nx">mouseY</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">40</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">keyIsPressed</span> <span class="o">==</span> <span class="kc">true</span><span class="p">){</span>
    <span class="nx">clear</span><span class="p">();</span>
  <span class="p">}</span>

<span class="p">}</span>

</code></pre>
</div>


              <footer>
                <ul class="stats">
                
                  <li><a href="#">Creative</a></li>
                
                  <li><a href="#">Code,</a></li>
                
                  <li><a href="#">p5.js</a></li>
                
        <!--
        <li><a href="#">General</a></li>
        <li><a href="#" class="icon fa-heart">28</a></li>
        <li><a href="#" class="icon fa-comment">128</a></li>
        -->
                </ul>
              </footer>
           </article>
  					<ul class="actions pagination">
  					  
  	  				  <li><a href="/articles/2016/03/29/OpenCitiesOpenData.html" class="button big previous">Previous Post</a></li>
  						
							
  						  <li><a href="/blog/2016/05/11/P5Background.html" class="button big next">Next Post</a></li>
  						
  					</ul>
					</div>

				<!-- Sidebar -->
					<section id="sidebar">

						<!-- Intro -->
						<section id="intro">

  <!-- <a href="http://www.chrisbamborough.com" class="logo"><img src="https://dl.dropboxusercontent.com/u/20394991/ChrisBamborough.com/CB_Logo_200x200_green.svg" alt="" /></a> -->

  <header>

    <a href="http://www.chrisbamborough.com"><h2> c.bam.bor.ough </h2></a>
    <!--
    <h-logo>Chris Bamborough</h-logo>

    <h2>Expanding Architectural Practice.</h2>
    -->
    <ul class="icons">
      <li><a href="https://twitter.com/chrisbamborough" class="fa-twitter"><span class="label">Twitter</span></a></li>
      <li><a href="https://github.com/chrisbamborough" class="fa-github"><span class="label">GitHub</span></a></li>
      <li><a href="https://www.behance.net/chrisbamborough" class="fa-behance"><span class="label">Behance</span></a></li>
      <li><a href="https://www.medium.com/@chrisbamborough" class="fa-medium"><span class="label">Medium</span></a></li>
      <li><a href="https://www.soundcloud.com/smoothspace" class="fa-soundcloud"><span class="label">Soundcloud</span></a></li>
      <li><a href="/feed.xml" class="fa-rss"><span class="label">RSS</span></a></li>
      <li><a href="mailto:bamborough.c@gmail.com" class="fa-envelope"><span class="label">Email</span></a></li>
    </ul>

  </header>

  <!-- <ul class="actions">
	  <li><a href="/about" class="button">Learn More</a></li>
	</ul> -->
</section>


						<!-- Mini Posts -->
						<section>
  <div class="mini-posts">
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/09/11/P5PerlinAgents.html">P5.js Perlin Noise Agents</a></h3>
		      <time class="published" datetime="2016-09-11">September 11, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/09/07/P5PerlinTerrain.html">P5.js Perlin Noise 3D Terrain</a></h3>
		      <time class="published" datetime="2016-09-07">September 07, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/08/31/P5FlowField.html">P5.js Perlin Noise Flow Field</a></h3>
		      <time class="published" datetime="2016-08-31">August 31, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/05/11/P5Background.html">P5.js background interactivity</a></h3>
		      <time class="published" datetime="2016-05-11">May 11, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
  </div>
</section>


            <!-- About -->
            <section class="blurb">
	<ul class="actions">
		<!--
	  <li><a href="/archive" class="button">Archive</a></li>
	-->
	</ul>
</section>


						<!-- Footer -->
						<section id="footer">
  <p class="copyright"> Copyright &copy; 2015 Chris Bamborough </p>
  <p class="copyright"> Website Based on Sierra by <a href="https://github.com/satokazuma/Siera"> Kazuma Sato </a> </p>
</section>

					</section>
			</div>
    </div>
		<!-- Scripts -->
		<script src="/js/jquery.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
<script src="/js/main.js"></script>

	</body>
</html>
