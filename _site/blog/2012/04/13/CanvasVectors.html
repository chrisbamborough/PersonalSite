<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
  <!--CODE FOR TYPEKIT -->
  <script src="https://use.typekit.net/nrf6yfy.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
  <script src="/js/three.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/p5.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/addons/p5.dom.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.2/addons/p5.sound.js" type="text/javascript"></script>

  <script type="text/javascript" src="https://cdn.jsdelivr.net/quicksettings/latest/quicksettings.min.js"></script>



  <title>Chris Bamborough</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!--[if lte IE 8]><script src="js/ie/html5shiv.js"></script><![endif]-->

	<link rel="stylesheet" href="/css/main.css" />
	<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
</head>

	<body>
    <!-- Animation Canvas -->
    <div id="backgroundCanvas">
		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
<header id="header">
  <!--
	<h1><a href="http://www.chrisbamborough.com">Chris Bamborough</a></h1>
-->
	<nav class="links">
	</nav>


	<nav class="main">
    <ul>
                <!--
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>
              -->
		  <li class="menu">
		  	<a class="fa-bars" href="#menu">Menu</a>
			</li>
		</ul>
	</nav>
</header>

<!-- Drop Down Menu -->
<section id="menu">
  <!-- Search -->
  <!--
  <section>
	  <form class="search" method="get" action="#">
	    <input type="text" name="query" placeholder="Search" />
		</form>
	</section>
  -->
	<!-- Links -->
	<section>
	  <ul class="links">
      <li>
		    <!-- <a href="/about"><h1>About</h1></a> -->
				<a href="/"><h1>Blog</h1></a>
				<!-- <a href="/projects"><h1>Projects</h1></a> -->
				<a href="http://makingculture.info"><h1>Making Culture</h1></a>
    </ul>
	</section>
	<!-- Actions -->
  <!--
  <section>
	  <ul class="actions vertical">
	    <li><a href="#" class="button big fit">Log In</a></li>
    </ul>
  </section>
  -->
</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
            <article class="post">
              <header>
                <div class="title">
                  <h2><a href="/blog/2012/04/13/CanvasVectors.html">Canvas Vectors</a></h2>
                <!-- <p>Lorem ipsum dolor amet nullam consequat etiam feugiat</p> -->
                </div>

                <div class="meta">
                  <time class="published" datetime="2012-04-13">April, 2012</time>
                  
                    <a href="#">blog</a>
                  
                  <!--
                  <a href="#" class="author"><span class="name">Jane Doe</span><img src="images/avatar.jpg" alt="" /></a>
                -->
                </div>
              </header>
              
              <p>The Nature of code introduces the use of vectors through a bouncing ball animation created via Processing’s inbuilt PVector library. The first snag with Javascript is that this PVector library is not accessible (well it is through <a href="http://processingjs.org/">processing.js</a>) so I have had to write my own.</p>

<p>The exercise is to rewrite the previous example but using vectors to update the position instead of x/y coordinates. So the html part is the same as before but this time we reference another javascript file “vectorMathsLib.js”. My library was based on the excellent resource <a href="http://codingmath.com/">Coding Math</a> by <a href="http://www.patreon.com/codingmath">Keith Peters</a></p>

<div class="highlighter-rouge"><pre class="highlight"><code>    <span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;&lt;/title&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"vectorMathsLib.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"NOC_1_2_BouncingBall_Vectors.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;canvas</span> <span class="na">id =</span><span class="err"> </span><span class="s">"myCanvas"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
    <span class="nt">&lt;/body&gt;</span>  
    <span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<p>In NOC_1_2_BouncingBall_Vectors.js we use the same structure but when declaring variables two vectors must be initialised, location and velocity. This time instead of the X and Y position being updated by adding xspeed and yspeed, the vector of the ball (location) gets added to the vector of direction (velocity). The edge test is then able to just reverse the vector in the x or y direction to make the ball bounce.</p>

<pre><code class="language-Javascript">    // put code in an overall function
    window.onload = function () {
        var canvas = document.getElementById('myCanvas'),
            context = canvas.getContext('2d'),
            width = canvas.width = window.innerWidth,
            height = canvas.height = window.innerHeight,
            x = 10,
            y = 10,    
            location = vector.create(10, 10),
            velocity = vector.create(2.5, 5);

        setInterval(draw, 10);

        function draw() {
            // redraw background every frame
            context.clearRect(0, 0, width, height);

            // add current speed to the location
            location.addTo(velocity);

            // draw a circle at the location
            context.beginPath();
            context.fillStyle = "#000ff";
            context.arc(location.getX(), location.getY(), 20, 0, Math.PI * 2, true);
            context.fill();

            // Edge Testing
            if (location.getX() &gt; width || location.getX() &lt; 0) {
                velocity._x *= -1;
            }
            if (location.getY() &gt; height || location.getY() &lt; 0) {
                velocity._y *= -1;
            }

        }

    };
</code></pre>

<p>Making the vector library is the tricky thing, in Javascript they appear to be just like functions (I come from a Python background) and by simply creating functions within an overall variable the vector math can be calculated. The biggest difference is that to make it behave like an object its attributes must be this. rather than var.</p>

<p>~~~ Javascript
    var vector = {
    	// x and y variables of the vector
        _x: 1,
        _y: 0,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>	// initialise and return the vector object
    create: function(x, y) {
        var obj = Object.create(this);
        obj.setX(x);
        obj.setY(y);
        return obj;
    },

    setX: function(value) {
		this._x = value;
	},

    getX: function() {
        return this._x;
    },

    setY: function(value) {
        this._y = value;
    },

    getY: function() {
        return this._y;
    },

    addTo: function(v2) {
      	this._x += v2.getX();
      	this._y += v2.getY();
	},
};
~~~
</code></pre>
</div>

<p>From this a ball bounces around the screen as before, but it is much smarter. Unlike me who hasn’t got an example to show yet.</p>


              <footer>
                <ul class="stats">
                
                  <li><a href="#">Creative</a></li>
                
                  <li><a href="#">Code</a></li>
                
        <!--
        <li><a href="#">General</a></li>
        <li><a href="#" class="icon fa-heart">28</a></li>
        <li><a href="#" class="icon fa-comment">128</a></li>
        -->
                </ul>
              </footer>
           </article>
  					<ul class="actions pagination">
  					  
  	  				  <li><a href="/blog/2011/12/01/BondiTrainStation.html" class="button big previous">Previous Post</a></li>
  						
							
  						  <li><a href="/blog/2012/04/13/CrowdsDIYWeb.html" class="button big next">Next Post</a></li>
  						
  					</ul>
					</div>

				<!-- Sidebar -->
					<section id="sidebar">

						<!-- Intro -->
						<section id="intro">

  <a href="http://www.chrisbamborough.com" class="logo"><img src="https://dl.dropboxusercontent.com/u/20394991/ChrisBamborough/CB_Logo_200x200_green.svg" alt="" /></a>

  <header>
    <!--
    <h-logo>Chris Bamborough</h-logo>

    <h2>Expanding Architectural Practice.</h2>
    -->
    <ul class="icons">
      <li><a href="https://twitter.com/chrisbamborough" class="fa-twitter"><span class="label">Twitter</span></a></li>
      <li><a href="https://github.com/chrisbamborough" class="fa-github"><span class="label">GitHub</span></a></li>
      <li><a href="https://www.behance.net/chrisbamborough" class="fa-behance"><span class="label">Behance</span></a></li>
      <li><a href="https://www.medium.com/@chrisbamborough" class="fa-medium"><span class="label">Medium</span></a></li>
      <li><a href="https://www.soundcloud.com/smoothspace" class="fa-soundcloud"><span class="label">Soundcloud</span></a></li>
      <li><a href="/feed.xml" class="fa-rss"><span class="label">RSS</span></a></li>
      <li><a href="mailto:bamborough.c@gmail.com" class="fa-envelope"><span class="label">Email</span></a></li>
    </ul>

  </header>

  <!-- <ul class="actions">
	  <li><a href="/about" class="button">Learn More</a></li>
	</ul> -->
</section>


						<!-- Mini Posts -->
						<section>
  <div class="mini-posts">
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/09/08/P5PerlinLandscape.html">P5.js Perlin Noise 3D Landscape</a></h3>
		      <time class="published" datetime="2016-09-08">September 08, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/08/31/P5FlowFields.html">P5.js Perlin Noise Flow Fields</a></h3>
		      <time class="published" datetime="2016-08-31">August 31, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/05/11/P5Background.html">P5.js background interactivity</a></h3>
		      <time class="published" datetime="2016-05-11">May 11, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/blog/2016/04/30/P5InJekyll.html">Using P5.js with Jekyll</a></h3>
		      <time class="published" datetime="2016-04-30">April 30, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        <!--
        
      -->
		  </article>
    
  </div>
</section>


            <!-- About -->
            <section class="blurb">
	<ul class="actions">
		<!--
	  <li><a href="/archive" class="button">Archive</a></li>
	-->
	</ul>
</section>


						<!-- Footer -->
						<section id="footer">
  <p class="copyright"> Copyright &copy; 2015 Chris Bamborough </p>
  <p class="copyright"> Website Based on Sierra by <a href="https://github.com/satokazuma/Siera"> Kazuma Sato </a> </p>
</section>

					</section>
			</div>
    </div>
		<!-- Scripts -->
		<script src="/js/jquery.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
<script src="/js/main.js"></script>

	</body>
</html>
